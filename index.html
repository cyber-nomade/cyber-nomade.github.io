<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberN√≥made, 28 lunas sin c√≥digos</title>
    <link rel="stylesheet" href="assets/styles/index.css">
    <script src="assets/scripts/index.js?v=20251029" defer></script>
    
    <!-- Audio para m√∫sica de fondo -->
    <audio id="background-music" loop preload="auto" crossOrigin="anonymous">
        <source src="assets/audio/portada.wav" type="audio/wav">
        Tu navegador no soporta el elemento de audio.
    </audio>

</head>
<body>
    <!-- Pantalla de activaci√≥n de audio -->
    <div id="audio-activation-screen" class="audio-activation-screen">
        <div class="audio-activation-content">
            <div class="audio-icon-large">
                <span class="audio-symbol">üéµ</span>
            </div>
            <h1 class="audio-title">CYBERN√ìMADE</h1>
            <h2 class="audio-subtitle">ACTIVACI√ìN DEL SISTEMA DE AUDIO</h2>
            
            <div class="audio-description">
                <p>¬øTe gustar√≠a activar la m√∫sica de fondo para una experiencia m√°s inmersiva?</p>
                <p class="audio-note">Puedes cambiar esta configuraci√≥n en cualquier momento.</p>
            </div>
            
            <div class="audio-buttons">
                <button class="btn-audio-yes" onclick="activateAudio(true)">
                    <span class="btn-icon">üîä</span>
                    S√ç, ACTIVAR AUDIO
                </button>
                <button class="btn-audio-no" onclick="activateAudio(false)">
                    <span class="btn-icon">üîá</span>
                    NO, CONTINUAR SIN AUDIO
                </button>
            </div>
            
            <div class="audio-footer">
                <p>El audio se reproduce en loop continuo</p>
            </div>
        </div>
    </div>

    <!-- Mensaje de orientaci√≥n para m√≥viles en portrait -->
    <div id="orientation-message" class="orientation-message">
        <div class="corner-bracket"></div>
        <div class="orientation-content">
            <div class="system-icon">
                <div class="phone-icon">
                    <div class="phone-screen"></div>
                </div>
            </div>
            <h1 class="main-title">CYBERN√ìMADE</h1>
            <h2 class="subtitle">INICIALIZACI√ìN DEL SISTEMA</h2>
            
            <div class="instruction-box">
                <p class="instruction-text">Gira tu dispositivo para una</p>
                <p class="instruction-highlight">MEJOR EXPERIENCIA</p>
                <p class="instruction-text">Optimizado para pantalla completa</p>
            </div>
            
            <div class="button-container">
                <button class="btn-primary" onclick="pantallaCompleta()">PANTALLA COMPLETA</button>
                <button class="btn-secondary" onclick="continuarSinPantallaCompleta()">CONTINUAR SIN PANTALLA COMPLETA</button>
            </div>
            
            <div class="status-info">
                <div class="status-line">
                    <span>SISTEMA: OPERATIVO</span>
                    <span class="status-bullet">‚óè</span>
                </div>
                <div class="status-line">
                    <span>CONEXI√ìN: ESTABLECIDA</span>
                    <span class="status-bullet">‚óè</span>
                </div>
                <div class="status-line">
                    <span>ESTADO: LISTO</span>
                </div>
            </div>
        </div>
    </div>

    <div class="game-container">
        <!-- Control de audio -->
        <div class="audio-control">
            <button id="audio-toggle" class="audio-btn" onclick="toggleAudio()" title="Haz clic en cualquier parte para activar el audio">
                <span id="audio-icon">‚è∏Ô∏è</span>
            </button>
        </div>
        
        <div class="desert-background"></div>
        
        <div class="content-wrapper">
            <div class="content">
                <div class="title">
                    <h1>CyberN√≥made</h1>
                    <h2>28 lunas, sin c√≥digos</h2>
                </div>
                
                <div class="separator"></div>

                <div class="description">
                    Eres un robot aut√≥nomo de servicio. Te est√°s reiniciando y busc√°s se√±al para actualizaciones: no ten√©s conexi√≥n.
                    <br/>
                    <br/>
                    Intent√° sobrevivir en el desierto mientras investig√°s tu mision, tu pasado y el destino de la humanidad.
                </div>
                
                <div class="buttons">
                    <button class="btn" onclick="console.log('BOT√ìN CLICKEADO'); try { console.log('Llamando iniciarJuego', typeof window.iniciarJuego); window.iniciarJuego(); } catch(e){ console.error('Error al ejecutar iniciarJuego:', e); }">INICIAR AVENTURA</button>
                    <button class="btn" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSf4ylsSmzhSiOMQCrtgjghKoUxtFuCxs8meMeKAW9vQvGJ4ug/viewform?usp=dialog', '_blank')">DAR FEEDBACK</button>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <div class="stat-number">25</div>
                        <div class="stat-label">CAP√çTULOS</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">13</div>
                        <div class="stat-label">FINALES</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">‚àû</div>
                        <div class="stat-label">POSIBILIDADES</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <h5>
                <div>
                    <span class="feather-icon">‚úé</span>
                    Creado por las 
                    <span class="electric-plumas" style="text-shadow: 0 0 20px #f0901b;">el√©ctricas plumas</span> de 
                    <a href="https://www.instagram.com/ale_graus/" target="_blank">Alexander Graus</a>, 
                    <a href="" target="_blank">Virginia Suhr</a> y 
                    <a href="" target="_blank">Sol Stambuli</a> 
                </div>
                <div>
                    <span class="sensor-icon">‚óâ</span>
                    Bajo los 
                    <span class="electric-plumas" style="color: #c85046cc;">c√°lidos sensores</span> de <a href="https://www.instagram.com/fercatz?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank">Fer Catz</a>
                </div>
                <div>
                    <p>
                        <span class="sound-icon">‚ô™</span>
                        <span class="electric-plumas" style="color: #d1aca6;">Dise√±o sonoro</span>: <a href="https://www.instagram.com/gaby.juen?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank">Gabriela Juen</a>
                    </p>
                </div>
                <div>
                    <p>
                        <span class="web-icon">‚óä</span>
                        <span class="electric-plumas" style="color: #e4885d;">Desarrollo web</span>: <a href="https://www.linkedin.com/in/alexander-graus/" target="_blank">Alexander Graus</a>
                    </p>
                </div>
                <div>
                    <span class="info-icon">i</span>
                    <a href="" target="_blank">
                        M√°s informaci√≥n
                    </a>
                </div>
            </h5>
        </div>
        
        <footer class="watermark-footer">
            <p>Espero que te diviertas. Ningun derecho reservado, mientras cites a los autores.</p>
            <p>ver 1.2.0</p>
        </footer>
    </div>
    <div id="twine-container" style="display:none; width:100%; height:100%;">
        <iframe src="game.html" frameborder="0" style="width:100%; height:100%;"></iframe>
    </div>
    
    <script>
        // Script de debug al final del body
        window.addEventListener('load', function() {
            console.log('=== SCRIPT INLINE EJECUT√ÅNDOSE ===');
            console.log('¬øFunci√≥n iniciarJuego existe?', typeof iniciarJuego);
            var scripts = document.querySelectorAll('script[src*="assets/scripts/index.js"]');
            scripts.forEach(function(s){ console.log('SCRIPT CARGADO:', s.getAttribute('src')); });

            // Wrapper de depuraci√≥n para interceptar llamadas a iniciarJuego
            try {
                if (typeof window.iniciarJuego === 'function') {
                    const __original_iniciarJuego__ = window.iniciarJuego;
                    window.iniciarJuego = function() {
                        console.log('[WRAPPER] iniciarJuego() invocado con', arguments);
                        try {
                            const result = __original_iniciarJuego__.apply(this, arguments);
                            console.log('[WRAPPER] iniciarJuego() retorn√≥', result);
                            return result;
                        } catch (err) {
                            console.error('[WRAPPER] Error dentro de iniciarJuego:', err);
                            throw err;
                        }
                    };
                    // Mostrar un extracto de la funci√≥n envuelta
                    try {
                        console.log('[WRAPPER] typeof __original_iniciarJuego__', typeof __original_iniciarJuego__);
                        console.log('[WRAPPER] __original_iniciarJuego__ preview:', String(__original_iniciarJuego__).slice(0, 120) + '...');
                    } catch(e) {}
                } else {
                    console.warn('[WRAPPER] iniciarJuego no es funci√≥n en load');
                }
            } catch (e) {
                console.error('[WRAPPER] Fall√≥ la instalaci√≥n del wrapper:', e);
            }
        });

        // Handlers globales de error
        window.addEventListener('error', function(e){
            console.error('ERROR GLOBAL:', e.message, e.filename+':'+e.lineno+':'+e.colno);
        });
        window.addEventListener('unhandledrejection', function(e){
            console.error('PROMESA NO MANEJADA:', e.reason);
        });
    </script>
</body>
</html> 